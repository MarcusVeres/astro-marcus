---
import '../styles/global.css'

/**
 * Portfolio Item Layout
 * Simple template for portfolio items displayed in lightbox iframe
 */

interface Props {
  frontmatter: {
    title: string;
    description: string;
    image: string;
    contentType?: string;
    caseStudyUrl?: string;
    externalUrl?: string;
    externalLabel?: string;
    links?: Array<{
      label: string;
      url: string;
      icon?: string;
    }>;
  };
}

const { frontmatter } = Astro.props;
const { title, description, image, contentType, caseStudyUrl, externalUrl, externalLabel, links = [] } = frontmatter;
---

<!DOCTYPE html>
<html lang="en" class="w-full h-full bg-red-500 font-inter">
	<head>
		<meta charset="utf-8" />
		<meta name="viewport" content="width=device-width, initial-scale=1" />
		<meta name="generator" content={Astro.generator} />
		<meta name="description" content="Marcus Veres // Home Page">
		
		<link rel="icon" type="image/svg+xml" href="/favicon.svg" />
		
		<title>Marcus Veres // {title}</title>

		<!-- Non-blocking font load -->
		<link rel="preconnect" href="https://fonts.googleapis.com">
		<link rel="preconnect" href="https://fonts.gstatic.com" crossorigin>
		<link rel="preload" href="https://fonts.googleapis.com/css2?family=Inter:ital,opsz,wght@0,14..32,100..900;1,14..32,100..900&display=swap" as="style" onload="this.onload=null;this.rel='stylesheet'">
		<noscript><link rel="stylesheet" href="https://fonts.googleapis.com/css2?family=Inter:ital,opsz,wght@0,14..32,100..900;1,14..32,100..900&display=swap"></noscript>

		<!-- TailwindPlus Elements script -->
		<script src="https://cdn.jsdelivr.net/npm/@tailwindplus/elements@1" type="module"></script>

	</head>
	<body class="w-full h-full p-0 m-0 antialiased bg-gray-900">

    <div class="bg-teal-500">
      <div class="w-40 h-40">
        <img src={image} alt={title} class="h-fit" />
      </div>

      <div class="content">
        <h1>{title}</h1>
        <p class="description">{description}</p>

        {contentType === 'case-study' && caseStudyUrl && (
          <a href={caseStudyUrl} class="btn btn-primary" target="_blank">
            Read Full Case Study →
          </a>
        )}

        {contentType === 'external' && externalUrl && (
          <a href={externalUrl} class="btn btn-primary" target="_blank">
            {externalLabel || 'View Project'} →
          </a>
        )}

        <div class="markdown-content">
          <slot />
        </div>

        {links.length > 0 && (
          <div class="social-links">
            {links.map(link => (
              <a href={link.url} class="social-link" target="_blank">
                {link.label}
              </a>
            ))}
          </div>
        )}
      </div>
    </div>
    
	</body>
</html>