---
import BaseLayout from '../layouts/BaseLayout.astro'

import ButtonAura from '../components/atoms/ButtonAura.astro'
import IconEnvelope from '@components/atoms/IconEnvelope.astro'

import SocialIcons from '../components/blocks/SocialIconsFooter.astro'
import SocialLinks from '../components/blocks/SocialLinks.astro'
import ReviewsCarousel from '../components/blocks/ReviewsCarousel.astro'

const pageTitle = "Contact"
---

<script is:inline src="https://assets.calendly.com/assets/external/widget.js" type="text/javascript" async></script>
<BaseLayout pageTitle={`${pageTitle} blog`}>

  <div class="relative isolate">
    <svg aria-hidden="true" class="absolute inset-0 -z-10 size-full mask-[radial-gradient(100%_100%_at_top_right,white,transparent)] stroke-white/10">
      <defs>
        <pattern id="83fd4e5a-9d52-42fc-97b6-718e5d7ee527" width="200" height="200" x="50%" y="-1" patternUnits="userSpaceOnUse">
          <path d="M100 200V.5M.5 .5H200" fill="none" />
        </pattern>
      </defs>
      <svg x="50%" y="-1" class="overflow-visible fill-gray-800/50">
        <path d="M-100.5 0h201v201h-201Z M699.5 0h201v201h-201Z M499.5 400h201v201h-201Z M-300.5 600h201v201h-201Z" stroke-width="0" />
      </svg>
      <rect width="100%" height="100%" fill="url(#83fd4e5a-9d52-42fc-97b6-718e5d7ee527)" stroke-width="0" />
    </svg>
    <div class="px-6 pt-16 mx-auto max-w-7xl sm:pt-20 lg:flex lg:items-center lg:gap-x-10 lg:px-8 lg:pt-12">
      <div class="max-w-2xl mx-auto lg:mx-0 lg:flex-auto">
        <div class="flex">
          <div class="relative flex items-center px-4 py-1 text-gray-300 rounded-full gap-x-4 bg-white/5 text-sm/6 ring-1 ring-white/10 hover:ring-white/20">
            <span class="font-semibold text-indigo-400">We’re hiring</span>
            <span aria-hidden="true" class="w-px h-4 bg-white/10"></span>
            <a href="#" class="flex items-center gap-x-1">
              <span aria-hidden="true" class="absolute inset-0"></span>
              See open positions
              <svg viewBox="0 0 20 20" fill="currentColor" data-slot="icon" aria-hidden="true" class="-mr-2 text-gray-400 size-5">
                <path d="M8.22 5.22a.75.75 0 0 1 1.06 0l4.25 4.25a.75.75 0 0 1 0 1.06l-4.25 4.25a.75.75 0 0 1-1.06-1.06L11.94 10 8.22 6.28a.75.75 0 0 1 0-1.06Z" clip-rule="evenodd" fill-rule="evenodd" />
              </svg>
            </a>
          </div>
        </div>
        <h1 class="mt-10 text-5xl font-semibold tracking-tight text-white text-pretty sm:text-7xl">
            A better way to ship your projects
        </h1>
        <p class="mt-8 text-lg font-medium text-gray-400 text-pretty sm:text-xl/8">
            Anim aute id magna aliqua ad ad non deserunt sunt. Qui irure qui lorem cupidatat commodo. Elit sunt amet fugiat veniam occaecat fugiat aliqua. Anim aute id magna aliqua ad ad non deserunt sunt.
        </p>
        <div class="flex items-center mt-10 gap-x-6">
          <ButtonAura label="Let's Go" link="#form-contact" />
            <!-- <a href="#form-contact" class="rounded-md bg-indigo-500 px-3.5 py-2.5 text-sm font-semibold text-white shadow-xs hover:bg-indigo-400 focus-visible:outline-2 focus-visible:outline-offset-2 focus-visible:outline-indigo-500">Get started</a> -->
          <a href="mailto:marcus.veres@gmail.com" class="font-semibold text-white text-sm/6">
            Skip the form and send an email <span aria-hidden="true">→ <IconEnvelope class="inline w-6 h-6" /></span>
          </a>
        </div>
      </div>
      <div class="mt-16 sm:mt-24 lg:mt-0 lg:shrink-0 lg:grow">
        <!-- Phone Frame with Calendly Embed -->
        <div class="relative max-w-sm mx-auto rounded-4xl">
          <!-- Phone outer shell -->
          <div class="relative p-3 bg-gray-700 shadow-2xl rounded-4xl">
            <!-- Phone notch -->
            <div class="absolute left-0 right-0 z-10 flex justify-center top-3">
              <div class="w-32 h-6 bg-gray-800 rounded-b-3xl"></div>
            </div>

            <!-- Phone screen -->
            <div class="relative overflow-hidden bg-white rounded-3xl" style="height: 640px;">
              <!-- Calendly Inline Widget -->
              <div class="calendly-inline-widget" data-url="https://calendly.com/marcus-veres/30min" style="min-width:100%;height:100%;"></div>
            </div>
          </div>

          <!-- Side buttons -->
          <div class="absolute w-1 h-12 bg-gray-700 rounded-l-lg -left-1 top-24"></div>
          <div class="absolute w-1 h-16 bg-gray-700 rounded-l-lg -left-1 top-40"></div>
          <div class="absolute w-1 h-16 bg-gray-700 rounded-r-lg -right-1 top-32"></div>
        </div>
      </div>
    </div>
  </div>

  <!-- <SocialLinks /> -->
  <SocialIcons />

<div id="form-contact" class="relative px-6 py-24 bg-gray-900 isolate sm:py-32 lg:px-8">
  <svg aria-hidden="true" class="absolute inset-0 -z-10 size-full mask-[radial-gradient(100%_100%_at_top_right,white,transparent)] stroke-white/10">
    <defs>
      <pattern id="83fd4e5a-9d52-42fc-97b6-718e5d7ee527" width="200" height="200" x="50%" y="-64" patternUnits="userSpaceOnUse">
        <path d="M100 200V.5M.5 .5H200" fill="none" />
      </pattern>
    </defs>
    <svg x="50%" y="-64" class="overflow-visible fill-gray-800/40">
      <path d="M-100.5 0h201v201h-201Z M699.5 0h201v201h-201Z M499.5 400h201v201h-201Z M299.5 800h201v201h-201Z" stroke-width="0" />
    </svg>
    <rect width="100%" height="100%" fill="url(#83fd4e5a-9d52-42fc-97b6-718e5d7ee527)" stroke-width="0" />
  </svg>
  <div class="max-w-xl px-6 mx-auto lg:max-w-7xl lg:px-8">
    <h2 class="text-4xl font-semibold tracking-tight text-white text-pretty sm:text-5xl">Let's talk about your project</h2>
    <p class="mt-2 text-gray-400 text-lg/8">We help companies and individuals build out their brand guidelines.</p>
    <div class="flex flex-col gap-16 mt-16 sm:gap-y-20 lg:flex-row lg:items-start lg:justify-center">

      <!-- Success Message (hidden by default) -->
      <div id="form-success" class="hidden max-w-2xl p-6 mx-auto mb-8 border-l-4 border-green-700 rounded-lg bg-green-500/20 lg:mx-0">
        <div class="flex items-start">
          <svg class="flex-shrink-0 w-6 h-6 text-green-400" fill="none" viewBox="0 0 24 24" stroke="currentColor">
            <path stroke-linecap="round" stroke-linejoin="round" stroke-width="2" d="M9 12l2 2 4-4m6 2a9 9 0 11-18 0 9 9 0 0118 0z" />
          </svg>
          <div class="ml-3">
            <h3 class="text-lg font-semibold text-green-400">Message sent successfully!</h3>
            <p class="mt-2 text-green-300">Thank you for reaching out. I'll get back to you within 24-48 hours.</p>
          </div>
        </div>
      </div>

      <form name="contact" method="POST" netlify netlify-honeypot="bot-field" class="max-w-2xl mx-auto lg:mx-0 lg:flex-auto">

        <!-- Honeypot field for spam protection -->
        <input type="hidden" name="form-name" value="contact" />
        <p class="hidden">
          <label>
            Don't fill this out if you're human: <input name="bot-field" />
          </label>
        </p>

        <div class="grid grid-cols-1 gap-x-8 gap-y-6 sm:grid-cols-2">
          <div>
            <label for="first-name" class="block font-semibold text-white text-sm/6">First name</label>
            <div class="mt-2.5">
              <input id="first-name" type="text" name="first-name" autocomplete="given-name" required class="block w-full rounded-md bg-white/5 px-3.5 py-2 text-base text-white outline-1 -outline-offset-1 outline-white/10 backdrop-blur-sm placeholder:text-gray-500 focus:outline-2 focus:-outline-offset-2 focus:outline-indigo-500" />
            </div>
          </div>
          <div>
            <label for="last-name" class="block font-semibold text-white text-sm/6">Last name</label>
            <div class="mt-2.5">
              <input id="last-name" type="text" name="last-name" autocomplete="family-name" required class="block w-full rounded-md bg-white/5 px-3.5 py-2 text-base text-white outline-1 -outline-offset-1 outline-white/10 backdrop-blur-sm placeholder:text-gray-500 focus:outline-2 focus:-outline-offset-2 focus:outline-indigo-500" />
            </div>
          </div>
          <div>
            <label for="email" class="block font-semibold text-white text-sm/6">Email</label>
            <div class="mt-2.5">
              <input id="email" type="email" name="email" autocomplete="email" required class="block w-full rounded-md bg-white/5 px-3.5 py-2 text-base text-white outline-1 -outline-offset-1 outline-white/10 backdrop-blur-sm placeholder:text-gray-500 focus:outline-2 focus:-outline-offset-2 focus:outline-indigo-500" />
            </div>
          </div>
          <div>
            <label for="budget" class="block font-semibold text-white text-sm/6">Budget</label>
            <div class="mt-2.5">
              <input id="budget" type="text" name="budget" class="block w-full rounded-md bg-white/5 px-3.5 py-2 text-base text-white outline-1 -outline-offset-1 outline-white/10 backdrop-blur-sm placeholder:text-gray-500 focus:outline-2 focus:-outline-offset-2 focus:outline-indigo-500" />
            </div>
          </div>
          <!--
          <div class="sm:col-span-2">
            <label for="website" class="block font-semibold text-white text-sm/6">Website (optional)</label>
            <div class="mt-2.5">
              <input id="website" type="url" name="website" class="block w-full rounded-md bg-white/5 px-3.5 py-2 text-base text-white outline-1 -outline-offset-1 outline-white/10 backdrop-blur-sm placeholder:text-gray-500 focus:outline-2 focus:-outline-offset-2 focus:outline-indigo-500" />
            </div>
          </div>
          -->
          <div class="sm:col-span-2">
            <label for="message" class="block font-semibold text-white text-sm/6">Message</label>
            <div class="mt-2.5">
              <textarea id="message" name="message" rows="4" required class="block w-full rounded-md bg-white/5 px-3.5 py-2 text-base text-white outline-1 -outline-offset-1 outline-white/10 backdrop-blur-sm placeholder:text-gray-500 focus:outline-2 focus:-outline-offset-2 focus:outline-indigo-500"></textarea>
            </div>
          </div>
        </div>
        <div class="flex flex-col items-center justify-between mt-10 sm:flex-row">
          <ButtonAura label="Let's talk" type="submit" />
          <a href="mailto:marcus.veres@gmail.com" class="font-semibold text-white text-sm/6">
            Never mind, I'll send an email <span aria-hidden="true">→ <IconEnvelope class="inline w-6 h-6" /></span>
          </a>
        </div>
        <!-- <p class="mt-4 text-center text-gray-400 text-sm/6">By submitting this form, I agree to the <a href="#" class="font-semibold text-indigo-400 whitespace-nowrap">privacy policy</a>.</p> -->
      </form>
      <div class="max-w-sm mx-auto mt-7 lg:shrink-0 lg:grow">
        <ReviewsCarousel />
      </div>
    </div>
  </div>
</div>

<script>
  // Handle Netlify form submission and show success message
  const form = document.querySelector('form[name="contact"]');
  const successMessage = document.getElementById('form-success');

  if (form && successMessage) {
    form.addEventListener('submit', function(e) {
      e.preventDefault();

      // Get form data
      const formData = new FormData(form);

      // Submit to Netlify
      fetch('/', {
        method: 'POST',
        headers: { 'Content-Type': 'application/x-www-form-urlencoded' },
        body: new URLSearchParams(formData).toString()
      })
      .then(() => {
        // Show success message
        form.classList.add('hidden');
        successMessage.classList.remove('hidden');

        // Scroll to success message
        successMessage.scrollIntoView({ behavior: 'smooth', block: 'center' });
      })
      .catch((error) => {
        console.error('Error:', error);
        alert('There was an error submitting your form. Please try again or email me directly.');
      });
    });
  }
</script>

</BaseLayout>
